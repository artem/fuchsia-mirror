# Copyright 2023 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

assert(is_host, "Python E2E tests are host-only")

# All of the HoneyDew functional tests
group("tests") {
  testonly = true
  public_deps = [
    "affordance_tests:tests",
    "fuchsia_device_tests:tests",
    "transport_tests:tests",
  ]
}

# Infra test groups:
#     Stable
#         Emulator
#             That require SL4F transport
#             That does not require SL4F transport
#     Unstable
#         Emulator
#             That require SL4F transport
#             That does not require SL4F transport
#         VIM3
#             That require SL4F transport
#             That does not require SL4F transport
#         NUC
#             That require SL4F transport
#             That does not require SL4F transport
group("stable_emulator_sl4f_tests") {
  testonly = true
  public_deps = [
    "affordance_tests/test_tracing:tracing_test($host_toolchain)",
    "fuchsia_device_tests/test_fuchsia_device:x64_emu_test($host_toolchain)",
  ]
}

group("stable_emulator_tests") {
  testonly = true
  public_deps = [
    "affordance_tests/test_tracing:tracing_test_fc($host_toolchain)",
    "fuchsia_device_tests/test_fuchsia_device:x64_emu_test_fc($host_toolchain)",
    "transport_tests/test_ffx:ffx_test_fc($host_toolchain)",
  ]
}

group("unstable_emulator_sl4f_tests") {
  testonly = true
  public_deps = []
}

group("unstable_emulator_tests") {
  testonly = true
  public_deps = [
    "affordance_tests/test_session:session_test_fc($host_toolchain)",
    "transport_tests/test_ffx:ffx_wait_for_rcs_disconnection_test_fc($host_toolchain)",
  ]
}

group("unstable_vim3_sl4f_tests") {
  testonly = true
  public_deps =
      [ "fuchsia_device_tests/test_fuchsia_device:vim3_test($host_toolchain)" ]
}

group("unstable_vim3_tests") {
  testonly = true
  public_deps = [
    "fuchsia_device_tests/test_fuchsia_device:vim3_test_fc($host_toolchain)",
  ]
}

group("unstable_nuc_sl4f_tests") {
  testonly = true
  public_deps = [
    "fuchsia_device_tests/test_fuchsia_device:x64_nuc_test($host_toolchain)",
  ]
}

group("unstable_nuc_tests") {
  testonly = true
  public_deps = [
    "fuchsia_device_tests/test_fuchsia_device:x64_nuc_test_fc($host_toolchain)",
  ]
}

# ToDo(b/306756520) - Delete below mentioned test groups after updating pye2e
# builders in shared.star with above mentioned test groups
group("stable_sl4f_emulator_tests") {
  testonly = true
  public_deps = [ ":stable_emulator_sl4f_tests" ]
}

group("unstable_sl4f_emulator_tests") {
  testonly = true
  public_deps = [ ":unstable_emulator_sl4f_tests" ]
}

group("stable_sl4f_nuc_tests") {
  testonly = true
  public_deps = []
}

group("unstable_sl4f_nuc_tests") {
  testonly = true
  public_deps = [ ":unstable_nuc_sl4f_tests" ]
}

group("stable_sl4f_vim3_tests") {
  testonly = true
  public_deps = []
}

group("unstable_sl4f_vim3_tests") {
  testonly = true
  public_deps = [ ":unstable_vim3_sl4f_tests" ]
}

group("stable_non_sl4f_emulator_tests") {
  testonly = true
  public_deps = [ ":stable_emulator_tests" ]
}

group("unstable_non_sl4f_emulator_tests") {
  testonly = true
  public_deps = [ ":unstable_emulator_tests" ]
}

group("stable_non_sl4f_nuc_tests") {
  testonly = true
  public_deps = []
}

group("unstable_non_sl4f_nuc_tests") {
  testonly = true
  public_deps = [ ":unstable_nuc_tests" ]
}

group("stable_non_sl4f_vim3_tests") {
  testonly = true
  public_deps = []
}

group("unstable_non_sl4f_vim3_tests") {
  testonly = true
  public_deps = [ ":unstable_vim3_tests" ]
}
