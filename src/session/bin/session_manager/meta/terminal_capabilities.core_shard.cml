// Copyright 2022 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// TODO(https://fxbug.dev/42057100): The routes in this shard are only required
// by the `terminal` component. Other (current and future) children of
// `#session-manager` should not `use` these protocols without first
// getting a security policy review.
{
    offer: [
        {
            protocol: [
                "fuchsia.pkg.RepositoryManager",
                "fuchsia.pkg.rewrite.Engine",
            ],
            from: "#pkg-resolver",
            to: "#session-manager",
        },
        {
            protocol: "fuchsia.process.Resolver",
            from: "#process_resolver",
            to: "#session-manager",
        },
        {
            protocol: [
                "fuchsia.diagnostics.ArchiveAccessor",
                "fuchsia.logger.Log",
                "fuchsia.space.Manager",
                "fuchsia.sys2.RealmExplorer.root",
                "fuchsia.sys2.RealmQuery.root",
            ],
            from: "parent",
            to: "#session-manager",
        },
        {
            directory: "boot",
            from: "parent",
            as: "boot-bin",
            to: "#session-manager",
            subdir: "bin",
        },
        {
            directory: "bin",
            from: "parent",
            to: "#session-manager",
        },
        {
            protocol: "fuchsia.bluetooth.sys.HostWatcher",
            from: "#bluetooth-core",
            to: "#session-manager",
            source_availability: "unknown",
        },
        {
            protocol: "fuchsia.hardware.pty.Device",
            from: "parent",
            to: "#session-manager",
            availability: "optional",
        },
        {
            protocol: "fuchsia.virtualization.LinuxManager",
            from: "#termina-guest-manager",
            to: "#session-manager",
            source_availability: "unknown",
        },
        {
            protocol: "fuchsia.virtualization.DebianGuestManager",
            from: "#debian-guest-manager",
            to: "#session-manager",
            source_availability: "unknown",
        },
        {
            protocol: "fuchsia.virtualization.TerminaGuestManager",
            from: "#termina-guest-manager",
            to: "#session-manager",
            source_availability: "unknown",
        },
        {
            protocol: "fuchsia.virtualization.ZirconGuestManager",
            from: "#zircon-guest-manager",
            to: "#session-manager",
            source_availability: "unknown",
        },
    ],
}
