header = """
// Copyright 2022 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
"""
autogen_warning = """
// Warning:
// This file was autogenerated by cbindgen.
// Do not modify this file manually.
"""

include_guard = "SRC_CONNECTIVITY_WLAN_DRIVERS_WLANSOFTMAC_RUST_DRIVER_C_BINDING_BINDINGS_H_"
language = "C"
style = "type"

sys_includes = [
    "zircon/types.h",
    "lib/trace/event.h",
    "fuchsia/wlan/softmac/c/banjo.h",
]

[parse]
parse_deps = true
include = ["wlan_mlme", "wlan_span", "wlansoftmac_rust"]

[export]
exclude = [
    # Banjo types.
    "WlanRxInfo",
    "WlanTxInfo",
    "WlanTxPacket",
    "WlanTxResult",

    # Unused types.
    "LinkStatus",

    # Voided types.
    "DriverEventSink",
]

[export.rename]
# fuchsia.wlan.softmac Banjo types
"WlanRxPacket" = "wlan_rx_packet_t"
"WlanRxInfo" = "wlan_rx_info_t"
"WlanTxPacket" = "wlan_tx_packet_t"
"WlanTxInfo" = "wlan_tx_info_t"
"WlanTxResult" = "wlan_tx_result_t"

# wlansoftmac-rust types
"WlanSoftmacHandle" = "wlansoftmac_handle_t"

# wlan-mlme types
"CBufferProvider" = "wlansoftmac_buffer_provider_ops_t"
"CBuffer" = "wlansoftmac_buffer_t"
"CDeviceInterface" = "rust_device_interface_t"
"CFrameProcessor" = "frame_processor_t"
"CFrameProcessorOps" = "frame_processor_ops_t"

# wlan-span types
"CSpan" = "wlan_span_t"

# fuchsia-trace types
"TraceId" = "trace_async_id_t"

# This struct is used for void* context fields in protocol ops.
"DriverEventSink" = "void"

[fn]
prefix = 'extern "C"'

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true
