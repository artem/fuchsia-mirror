// Copyright 2022 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
{
    actions: [
        {
            type: "expect_pass",
            matchers: [
                "*",
            ],
        },
        {
            type: "expect_failure",
            matchers: [
                // Netstack3 does not support many UDP socket options or operations
                "AllUDPSockets/AllSocketPairTest.BasicRecvmmsg/*",
                "AllUDPSockets/AllSocketPairTest.BasicSendmmsg/*",
                "AllUDPSockets/AllSocketPairTest.GetSndBufSucceeds/*",
                "AllUDPSockets/AllSocketPairTest.GetSocketOutOfBandInlineOption/*",
                "AllUDPSockets/AllSocketPairTest.GetSocketRcvbufOption/*",
                "AllUDPSockets/AllSocketPairTest.KeepAliveSocketOption/*",
                "AllUDPSockets/AllSocketPairTest.LingerSocketOption/*",
                "AllUDPSockets/AllSocketPairTest.RecvmmsgInvalidTimeout/*",
                "AllUDPSockets/AllSocketPairTest.RecvmmsgTimeoutBeforeRecv/*",
                "AllUDPSockets/AllSocketPairTest.RecvmsgMsghdrFlagsCleared/*",
                "AllUDPSockets/AllSocketPairTest.SendmmsgIsLimitedByMAXIOV/*",
                "AllUDPSockets/AllSocketPairTest.RecvmsgPeekMsghdrFlagsCleared/*",
                "AllUDPSockets/AllSocketPairTest.SetAndGetBooleanSocketOptions/*",

                // Expect failure for dual-stack UDP sockets.
                "AllUDPSockets/AllSocketPairTest.BasicReadWrite/[25]",
                "AllUDPSockets/AllSocketPairTest.BasicReadWriteBadBuffer/[25]",
                "AllUDPSockets/AllSocketPairTest.BasicSendRecv/[25]",
                "AllUDPSockets/AllSocketPairTest.GetSockoptType/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutDefault/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutNegSecRead/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutNegSecRecv/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutNegSecRecvmsg/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutReadSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutRecvOneSecondSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutRecvSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutRecvmsgOneSecondSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutRecvmsgSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutUsecNeg/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutUsecTooLarge/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvTimeoutWaitAll/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvWaitAll/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvWaitAllDontWait/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvmsgIovNotUpdated/[25]",
                "AllUDPSockets/AllSocketPairTest.RecvmsgMsghdrFlagsNotClearedOnFailure/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutAllowsSend/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutAllowsSendmsg/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutAllowsWrite/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutDefault/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutUsecNeg/[25]",
                "AllUDPSockets/AllSocketPairTest.SendTimeoutUsecTooLarge/[25]",
                "AllUDPSockets/AllSocketPairTest.SendmsgRecvmsg10KB/[25]",
                "AllUDPSockets/AllSocketPairTest.SendmsgRecvmsg16KB/[25]",
                "AllUDPSockets/AllSocketPairTest.SendmsgRecvmsgMsgCtruncNoop/[25]",
                "AllUDPSockets/AllSocketPairTest.SetGetRecvTimeout/[25]",
                "AllUDPSockets/AllSocketPairTest.SetGetRecvTimeoutLargerArg/[25]",
                "AllUDPSockets/AllSocketPairTest.SetGetSendTimeout/[25]",
                "AllUDPSockets/AllSocketPairTest.SetGetSendTimeoutLargerArg/[25]",
                "AllUDPSockets/AllSocketPairTest.RcvBufSucceeds/[25]",
                "AllUDPSockets/AllSocketPairTest.GetSockoptDomain/[25]",
                "AllUDPSockets/AllSocketPairTest.GetSockoptProtocol/[25]",
                "AllUDPSockets/AllSocketPairTest.MsgPeek/[25]",

                // https://fxbug.dev/74639
                "AllUDPSockets/AllSocketPairTest.GetSetSocketRcvlowatOption/*",
                "AllUDPSockets/NonStreamSocketPairTest.SendMsgTooLarge/*",
                "AllUDPSockets/NonStreamSocketPairTest.MsgTruncNotFull/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.MsgTruncSameSize/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.MsgTruncTruncation/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.MsgTruncTruncationRecvmsgMsghdrFlagMsgTrunc/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.RecvmsgMsgTruncZeroLen/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.RecvmsgMsghdrFlagMsgTrunc/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.RecvmsgTruncPeekDontwaitZeroLen/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.SingleRecv/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.SplitRecv/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.SinglePeek/[25]",
                "AllUDPSockets/NonStreamSocketPairTest.RecvmsgMsgTruncMsgPeekZeroLen/[25]",
            ],
        },
        {
            type: "skip",
            matchers: [
                "*UDPSocketPairTest*",
            ],
        },
    ],
}
